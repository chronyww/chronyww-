
1.	Удаленный доступ. Протокол удаленного доступа SPICE
В современных IT-инфраструктурах удаленный доступ играет
ключевую роль, позволяя пользователям работать с корпоративными
ресурсами из любой точки мира. В Linux-среде удаленный доступ
используется для администрирования серверов, работы пользователей с
удаленными рабочими столами и приложениями, а также для организации
защищенного доступа через интернет.
SPICE (Simple Protocol for Independent Computing Environments)
SPICE (Simple Protocol for Independent Computing Environments) – это
высокопроизводительный удалённый дисплей-протокол, разработанный
Red Hat для виртуальных машин.
✅ Основная цель SPICE – обеспечить удобный, быстрый и
безопасный доступ к виртуальным рабочим столам и серверам в среде
виртуализации.
⚡ Где применяется SPICE?
KVM/QEMU – основной протокол удалённого доступа для
виртуализации
Virt-Manager, oVirt, Proxmox – удобный доступ к гостевым ОС
Корпоративная VDI (Virtual Desktop Infrastructure)
Доступ к графическим рабочим станциям и серверам
✅ Как работает SPICE?
Гостевая ОС работает в виртуальной среде (KVM/QEMU).
SPICE-сервер передаёт данные на клиентскую машину.
SPICE-клиент получает изображение и передаёт ввод с клавиатуры и
мыши.
✅ Основные возможности:
Быстрая передача изображения (поддержка 2D и 3D)
Передача звука и видео
Проброс USB-устройств и буфера обмена
Шифрование соединения (TLS)
Поддержка Linux и Windows в качестве гостевых ОС
Подключение через браузер с WebRTC (через oVirt, Proxmox)
SPICE состоит из нескольких компонентов:
✅ SPICE Server – обрабатывает подключение клиентов и передаёт
графику.
✅ SPICE Client – программа на стороне пользователя для доступа к
удалённому рабочему столу.
QXL Driver – видеодрайвер для гостевой ОС, который
оптимизирует передачу графики.
✅ SPICE Agent – вспомогательный компонент для улучшенной
интеграции (например, проброса буфера обмена и USB).
⚡ Где находится SPICE?
Встроен в QEMU/KVM
Работает в Proxmox, oVirt, Virt-Manager
Есть клиенты для Linux, Windows и macOS
✅ Плюсы SPICE
✅ Оптимизирован для виртуальных машин
Идеально работает с KVM/QEMU, Proxmox, oVirt.
✅ Высокая производительность
Поддерживает ускоренную графику, видео и 3D.
✅ Проброс устройств (USB, буфер обмена, звук)
Можно использовать локальную флешку или принтер в виртуальной
машине.
✅ Безопасность
Поддерживает TLS-шифрование и аутентификацию.
✅ Работает в браузере (через WebRTC)
Можно подключаться к виртуальным машинам без установки
клиента.
✅ Минусы SPICE
✅ Ограниченная кроссплатформенность
Нет официального клиента для macOS.
✅ Требуется QXL-драйвер
Без QXL производительность хуже.
✅ Зависимость от KVM/QEMU
SPICE не работает с VirtualBox, VMware и Hyper-V.
✅ Не всегда удобен для физических серверов
Лучше всего работает в виртуальных средах.

2.	Безопасность клиентской ОС. Автоматизация безопасности. Ansible
    Аутентификация и контроль доступа (PAM, Kerberos, LDAP)
    Контроль на уровне системы (SELinux, AppArmor, Firewalld)
    Шифрование дисков и файлов (LUKS, eCryptfs, EncFS)
    Автоматизация безопасности (Ansible) 
Ansible – автоматизация управления безопасностью 
Ansible  — это инструмент для автоматизации настройки и управления серверами. Он прост в использовании, не требует установки агентов на удалённые машины и использует SSH для взаимодействия. 
Основные особенности: 
    Агент-менеджер : не требует установки клиентского ПО на управляемые узлы.
    Push-модель : задачи отправляются с центрального сервера на клиентов.
    YAML-файлы (playbooks) : удобное описание задач в понятном формате.
    Интеграция с SSH : легко подключается к любым Linux-серверам.
Возможности Ansible в сфере безопасности: 
    Централизованное управление политиками безопасности
    Автоматическое применение обновлений
    Настройка файрволов (Firewalld, iptables)
    Включение и настройка SELinux/AppArmor
    Управление пользователями и правами доступа
    Мониторинг состояния систем и предотвращение отклонений от политики
Преимущества: 
    Простота развертывания
    Человекочитаемый формат YAML
    Лёгкая интеграция с существующими системами
    Подходит для среднего масштаба (до нескольких сотен серверов)
Недостатки: 
    Медленнее работает на очень больших инфраструктурах
    Меньше возможностей по сравнению с Puppet и SaltStack при сложных зависимостях
3.	В среде PNETLab развернуть сеть с двумя виртуальными машинами (маршрутизатор, маршрутизатор) и подключением к сети Интернет. Настроить протокол динамической маршрутизации. Выбор протокола обосновать в виде отчета и сохранить на рабочем столе.

Создать 2 пк
1 пк 172.16.4.1/28
2 пк 172.16.4.2/28
(apt update –y)
На ISP пишем:
nano /etc/sysctl.conf
Находим строчку
#net.ipv4.ip_forward=1
Раскомментируем её
net.ipv4.ip_forward=1
(iptables –t nat –A POSTROUTING –j MASQUERADE)
(apt install iptables-persistent -y)
(перезагрузить пк что бы интернет встал на второй комп при подключении к нему + iptables –t nat –S для проверки стоит ли построутинг и маскарад)
На первом пк:
apt install frr
nano /etc/frr/daemons
Меняем ospfd=no на ospfd=yes
Systemctl restart frr
Vtysh
Conf t
Router-id 1.1.1.1
Router ospf
Network 172.16.4.1/28 area 0
Neighbor 172.16.4.2
End
Do wr m
Ex
Воторой пк:
apt update && apt install frr
nano /etc/frr/daemons
Меняем ospfd=no на ospfd=yes
Systemctl restart frr
Vtysh
Conf t
Router-id 2.2.2.2
Router ospf
Network 172.16.4.2/28 area 0
Neighbor 172.16.4.1
End
Do wr m
Ex
На двух компах одновременно:
Systemctl restart frr
Vtysh
show ip ospf neighbor (показывает самые ближайшие пути и на этом этапе работа сделана)
show ip route 
•	OSPF — это протокол состояния канала (link-state), что позволяет строить точную карту сети и быстро реагировать на изменения топологии.
•	Поддерживает VLSM (суть в возможности использовать разные маски подсетей в одном сетевом пространстве в зависимости от потребностей) и CIDR (метод IP-адресации, позволяющий гибко управлять пространством IP-адресов), что делает его гибким для современных сетей.
•	Является открытым стандартом, совместимым с различным оборудованием.
•	Идеально подходит для масштабируемых и сложных сетей.
•	Бесплатный и не требует лицензирования.

